<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="with=device-width, initial-scale=1.0">
    <title>NFT Showcase</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://connect.manifoldxyz.dev/latest/connect.umd.min.js"></script>
    <link rel="stylesheet" href="https://connect.manifoldxyz.dev/latest/connect.css">

</head>
<body>
    <script>
        window.addEventListener('m-authenticated', async (event) => {
            // Get the data client instance
            const client = event.detail.client;

            // Get the NFTs owned by the currently connected wallet
            const tokens = await client.getNFTsOfOwner();


            const h2 = document.createElement("h2");
            h2.innerHTML = "Your NFTs";
            document.getElementById("nfts").appendChild(document.createElement("h2"))
            // Create a div element for each token you own
            for (let i = 0; i < tokens.length; i++) {
                const img = document.createElement("img");
                img.src = tokens[i].image;
                img.height = 200;
                img.width = 200;
                document.getElementById("nfts").appendChild(img);
            }
        })
        window.addEventListener('m-unauthenticated', async (event) => {
            document.getElementById("nfts").innerHTML = "";
        })
    </script>
    <section class="header">
        <nav>
            <a href="index.html"> <img src="images/logo.png" /> </a>
            <div class="nav-links">
                <ul>
                    <li><a href="">HOME</a></li>
                    <li><a href="">ABOUT</a></li>

                </ul>
            </div>
        </nav>

        <div class="text-box">
            <h1>NFT Showcase</h1>
            <p>Showcase Your NFTs Here</p>
            <div id="nfts"></div>
            </div>

        <div data-widget="m-connect"
                 data-grant-type="signature"
                 data-client-id="96c1d2d1bee491b271a9463b1b950b359c06a0ce750690314753b6d9a62fd2c4"
                 data-app-name="NFTShowcase"
                 data-redirect-uri="https://dcor623.github.io/Website/"
                 data-network="5"
                 style="margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: row; justify-content: center;">
        </div>

</section>
</body>
</html>
